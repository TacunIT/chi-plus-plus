<!DOCTYPE html>
<html lang="it-IT"><head>
    <title>I commenti |  C'hi++
</title>
    <meta charset="utf-8" />
    <meta name="viewport"     content="width=device-width, initial-scale=1.0, minimum-scale=1.0" />
    <link rel="canonical"            href="https://chiplusplus.org" />
    <meta     name="thumbnail"       content="https://chiplusplus.org/assets/img/chi-plus-plus.png" />
    <meta     name="keyword"         content="C'hi, C++, c plus plus, religione, open-source" />
    <meta     name="description"     content="Chi++ - Proposta per una metafisica open-source" />
    <meta property="og:title"        content="I commenti" />
    <meta property="og:type"         content="website" />    
    <meta property="og:description"  content="Chi++ - Proposta per una metafisica open-source" />
    <meta property="og:image"        content="https://chiplusplus.org/assets/img/chi-plus-plus.png" />
    <meta property="og:image:height" content="260" />
    <link rel=icon href=/assets/img/favicon.ico type=image/x-icon>
    <link href="/assets/fa/css/all.css" rel="stylesheet"> 
    <link rel="stylesheet" href="/assets/css/screen.css" ><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-159394431-1');
</script></head>
<body class="manuale capitolo ">

    <div id="page">

        <header><nav class="menu-top man">
    
    <a title="Vai a: Il C++" 
        
        href="/man/c-plus-plus" 
        class="left"
        
       >
       <i class="fa fa-chevron-left fa-2x" aria-hidden="true"></i>
    </a>
    
    <a href="/" class="center" title="Torna alla home-page">
        <i class="fa fa-home fa-2x" aria-hidden="true"></i>
    </a>
    <a href="/man/indice" class="center" title="Torna all'indice del Manuale">
        <i class="fa fa-bars fa-2x" aria-hidden="true"></i>
    </a>

    <a title="Vai a: I tipi di dato" 
        
        href="/man/tipi-di-dato" 
        
        class="right" 
        >
        <i class="fa fa-chevron-right  fa-2x" aria-hidden="true"></i>
    </a>
    
</nav>
</header>

        <main class="pubblicato">
            
        

            <h1>
                I commenti
            </h1>

            <blockquote class="motto">Il Compilatore e il Linker non usano carità, tengono i diecimila oggetti per cani di paglia</blockquote>

            <section id="testo">

                <p>I commenti sono la cosa più importante, quando si programma.</p>

<p>Un commento è un breve brano di testo che descrive in linguaggio comune il funzionamento o lo scòpo del codice a cui è riferito:</p>

<pre><code>/**
 * Funzione per il raddoppio dello stipendio.
 * Richiede come paramentro il valore dello 
 * stipendio corrente e ne torna il valore 
 * duplicato.
 */
long raddoppia(long stipendio)
{
    return stipendio * 2;   //  raddoppia il valore 
}
</code></pre>

<p>Pur essendo all’interno del codice, il commento viene ignorato in fase di compilazione, perché è un’aggiunta utile solo al programmatore. 
Al processore non interessa sapere a cosa serve il codice che sta eseguendo: lo esegue e basta, senza farsi distrarre da implicazioni funzionali — o, peggio, etiche — che allungherebbero i tempi di risposta.<br />
È importante commentare bene il proprio codice.
Il buon codice produce programmi che durano nel tempo e, col tempo, si tende a dimenticare.
Anche se si ha la fortuna di possedere una buona memoria, bisogna considerare la possibilità che il proprio codice sia utilizzato da un collega. 
Non solo non è educato costringerlo ad analizzare ogni singola riga di codice per capirne il funzionamento, ma è anche improduttivo.<br />
Così come la penuria, anche l’eccesso di commenti è un errore da evitare.
Il programmatore inesperto non commenta il proprio codice perché pensa che sia una perdita di tempo. È davvero un atteggiamento poco responsabile.
Il neofita zelante riempie il proprio codice di commenti, o perché ritiene che chi lo andrà a leggere sarà meno esperto di lui o perché vuole in questo modo esaltare le sue poche conoscenze.
Il programmatore esperto commenta solo ciò che non è di per sé evidente e indica i possibili punti deboli del suo programma in modo che chi si trova a riutilizzarlo o a correggerlo vi presti la dovuta attenzione.
Il programmatore perfetto non commenta il suo codice, perché il suo codice è auto-esplicativo:</p>

<pre><code>typedef Importo unsigned long;

Importo raddoppiaStipendio(Importo stipendioCorrente)
{
    return stipendioCorrente * 2;   
}
</code></pre>

<p>È lo stesso brano di codice che abbiamo visto prima, ma stavolta i commenti non servono, perché gli intenti della funzione sono espressi direttamente nel codice, rendendo espliciti il nome della funzione, del suo parametro e del suo valore di ritorno.
L’istruzione <code>typedef</code>, che hai visto anche negli esempii precedenti, seve a  definire dei nuovi tipi di dato, come alias di tipi di dato esistenti.
L’istruzione:</p>

<pre><code>typedef time_t Data;
</code></pre>

<p>definisce il tipo di dato <code>Data</code> come alias del tipo di dato standard <code>time_t</code>, mentre l’istruzione:</p>

<pre><code>typedef Importo unsigned long;
</code></pre>

<p>definisce il tipo di dato <code>Importo</code> come alias del tipo di dato standard <code>unsigned long</code>.<br />
La definizione dei proprii tipi di dato non solo rende il codice più leggibile, ma lo rende anche più facile da modificare.
La funzione originale utilizza dei valori di tipo <code>unsigned long</code>, ovvero delle sequenze di 4 byte che permettono di memorizzare numeri interi da 0 a 4.294.967.295 (2<sup>32</sup>).
Questo tipo di dato può essere utilizzato per uno stipendio che non abbia cifre decimali, come quello del Maestro Canaro nel secolo scorso, ma se dovessimo raddoppiare uno stipendio con delle cifre decimali, dovremmo utilizzare dei tipi di dato come i <code>float</code> o i <code>double</code> e, senza una <code>typedef</code>, saremmo costretti a modificare sia il valore di ritorno che il tipo di parametro della funzione:</p>

<pre><code>float raddoppia(float stipendio)
{
    return stipendio * 2;   //  raddoppia il valore 
}
</code></pre>
<p>Se invece abbiamo definito un nostro tipo di dato dobbiamo modificare solo l’istruzione <code>typedef</code>, lasciando tutto il resto invariato:</p>

<pre><code>typedef Importo float;

Importo raddoppiaStipendio(Importo stipendioCorrente)
{
    return stipendioCorrente * 2;   
}
</code></pre>

<p>È ammissibile che i commenti abbiano una sfumatura umoristica, può
essere utile per scaricare un po’ della tensione in chi legge, così come
scambiarsi una battuta mentre si lavora, ma anche in questo non si deve
esagerare.</p>

<pre><code>    case STATE_CR:  // Got CR: look for LF 
        state = STATE_NORMAL;
        if( ch == LF) {
            continue;
        }
        break;
    default:  // Hmmm... this shouldn't happen
        break;
    }
    cgi.param_data[j++] = ch;
}
</code></pre>

<p>Il C++ prevede due modi distinti per commentare il codice: due caratteri
<code>//</code> affiancati o la sequenza <code>/*  */</code>, che il Linguaggio ha mutuato dal
suo predecessore, il C.
Nel primo caso, il compilatore ignora i caratteri dal simbolo fino alla
fine della riga; nel secondo caso, ignora tutto ciò che è compreso fra
le due sequenze di caratteri.</p>

<pre><code class="language-`">/**
 * Questa sintassi è più comoda per i commenti 
 * che si estendono su più di una riga
 */
for (int i = 0; i &lt; 10; i++) {
    cout &lt;&lt; i &lt;&lt; endl; // questa, per i commenti su una riga
}

</code></pre>

<p>Entrambe le soluzioni hanno dei pro e dei contro che con l’esperienza
risultano evidenti. Scegliere l’uno o l’altro è spesso una questione
di convenienza, altre volte una questione di stile, ma se si capisce la
vera essenza del Linguaggio, è solo una questione di ritmo.</p>

<hr id="dottrina" />

<p>Una volta, il maestro Canaro mostrò ai suoi allievi un brano di codice e gli chiese di spiegare che cosa facesse:</p>

<pre><code>/**********************************************************
 
#include &lt;iostream.h&gt;

#define ERR_NOFILE 1

int errore( int errore );
void leggi_file( char * nomefile );
void crea_matrice(void);
int inizializza(void);
void imposta_probabilita(void);
void attrattore(void);
int chiudi(void);

int main(int argc, char * argv[])
{
    int esito = 0 ;
    if(argc &lt; 2) {
        esito = errore(ERR_NOFILE);
    } else {
        leggi_file(argv[1]);
        crea_matrice();
        if(inizializza()) {
            const char * valore = imposta_probabilita();
            attrattore(valore);
            esito = chiudi();
        }
    }
    return esito ;
}

***********************************************************/
</code></pre>

<p>Gli allievi studiarono il codice e diedero le loro risposte, ma sbagliarono tutti, perché tutte le istruzioni erano comprese fra un <code>/*</code> e un <code>*/</code> e non venivano compilate.</p>

<!--
@todo - introdurre qui il concetto di "post-it"?

I commenti sono un po' come la letteratura: se si scrive troppo poco è
male; se si scrive troppo, dilungandosi in descrizioni inutili, è
altrettanto sbagliato.

Il paragone vale anche all'inverso: i libri, le opere letterarie, sono
i commenti al codice della vita. Si scrive ciò che si desidera
ricordare.
-->


            </section>
            
        

        
        </main>

        <footer>
    <nav>
        
        
        <a href="/man/c-plus-plus" 
           title="Vai a: Il C++" 
           class="left">
            <i class="fa fa-chevron-left fa-2x" aria-hidden="true"></i>
        </a>
        
        
        <a href="#top" 
           title="Torna all'inizio" >
           <i class="fa fa-angle-double-up fa-2x" aria-hidden="true"></i>
        </a>

        
        <a href="/man/tipi-di-dato" 
           title="Vai a: I tipi di dato" 
           class="right" >
                <i class="fa fa-chevron-right  fa-2x" aria-hidden="true"></i>
        </a>
                

    </nav>

</footer>


    </div>

  </body>

</html>
