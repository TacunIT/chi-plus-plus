<!DOCTYPE html>
<html lang="it-IT"><head>
    <title>I puntatori |  C'hi++
</title>
    <meta charset="utf-8" />
    <meta name="viewport"     content="width=device-width, initial-scale=1.0, minimum-scale=1.0" />
    <link rel="canonical"            href="https://chiplusplus.org/man/puntatori" />
    <meta     name="thumbnail"       content="https://chiplusplus.org/assets/img/chi-plus-plus.png" />
    <meta     name="keyword"         content="C'hi, C++, c plus plus, religione, open-source" />
    <meta     name="description"     content="Chi++ - Proposta per una metafisica open-source" />
    <meta property="og:title"        content="I puntatori" />
    <meta property="og:type"         content="website" />    
    <meta property="og:description"  content="Chi++ - Proposta per una metafisica open-source"" />
    <meta property="og:image"        content="https://chiplusplus.org/assets/img/chi-plus-plus.png" />
    <meta property="og:image:height" content="260" />
    <link rel=icon href=/assets/img/favicon.ico type=image/x-icon>
    <script src="https://use.fontawesome.com/b4b35c88c8.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Simonetta:400,400i,900,900i&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inconsolata&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/assets/css/screen.css" ><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-159394431-1');
</script></head>
<body class="manuale capitolo ">

    <div id="page">

        <header><nav class="menu-top">
    
    
    <a href="/man/istruzioni-iterative" 
       title="Vai a: Istruzioni iterative" 
       class="left">
        <i class="fa fa-chevron-left fa-2x" aria-hidden="true"></i>
    </a>
    
    
    <a href="/" class="center" title="Torna alla home-page">
        <i class="fa fa-home fa-2x" aria-hidden="true"></i>
    </a>
    <a href="/man/indice" class="center" title="Torna all'indice del Manuale">
        <i class="fa fa-bars fa-2x" aria-hidden="true"></i>
    </a>

    
    <a href="/man/algebra-booleana" 
       title="Vai a: Algebra booleana" 
       class="right" >
            <i class="fa fa-chevron-right  fa-2x" aria-hidden="true"></i>
    </a>
    
    
</nav>
</header>

        <main class="bozza">
            
        

            <h1>
                I puntatori
            </h1>

            <blockquote class="motto">Tutto è byte</blockquote>

            <section id="testo">

                <p>Questo programma mostra come la dimensione di un puntatore modifichi il risultato della lettura dei dati:</p>

<pre><code>#include &lt;iostream&gt;
#include &lt;bitset&gt;
#include &lt;iomanip&gt; 

using namespace std;

/** 
 * Definisce due tipi di dato: uno lungo un byte 
 * e uno lungo due byte 
 */
typedef unsigned char byte;
typedef short int duebyte;

int main()
{    
    /** Crea un array di 80 valori binarii */
    byte valori[] = { 
          0b01000011, 0b00100111, 0b01101000, 0b01100001
        , 0b01101110, 0b01101110, 0b01101111, 0b00100000 
        , 0b01100110, 0b01101111, 0b01110010, 0b01110011
        , 0b01100101, 0b00100000, 0b01110100, 0b01110101
        , 0b01110100, 0b01110100, 0b01100101, 0b00100000
        , 0b01100101, 0b00100000, 0b01100100, 0b01110101
        , 0b01100101, 0b00100000, 0b01101100, 0b01100001
        , 0b00100000, 0b01110011, 0b01110100, 0b01100101
        , 0b01110011, 0b01110011, 0b01100001, 0b00100000
        , 0b01100101, 0b01110100, 0b11100000, 0b00100000
        , 0b00001010, 0b01001010, 0b01100101, 0b00100000
        , 0b01100110, 0b01101001, 0b01101111, 0b01110010
        , 0b01101001, 0b01110011, 0b01100011, 0b01100101
        , 0b00100000, 0b01100100, 0b01100101, 0b01101110
        , 0b01110100, 0b01110010, 0b01101111, 0b00100000
        , 0b01100001, 0b01110010, 0b00100000, 0b01100011
        , 0b01101111, 0b01110010, 0b01100101, 0b00100000
        , 0b00100111, 0b01101110, 0b00100000, 0b01101001
        , 0b01101100, 0b01101100, 0b01110101, 0b01110011
        , 0b01101001, 0b01101111, 0b01101110, 0b01100101 
    };

    /** 
     * Crea un puntatore con una dimensione di otto bit e gli
     * assegna come valore l'indirizzo dell'inizio dell'array. 
     */
    byte * p1 = valori;
    
    /** 
     * Sposta il puntatore per tutta la lunghezza dell'array,
     * mostrando per ciascun byte il suo valore binario, il
     * suo valore convertito in decimale e la lettera del      
     * set ASCII corrispondente a quel valore.
     */
    for(int i = 0; i &lt; sizeof(valori); i++) {
        cout &lt;&lt; setw(4)  &lt;&lt; i
             &lt;&lt; setw(18) &lt;&lt; bitset&lt;8&gt;(*p1) 
             &lt;&lt; setw(6)  &lt;&lt; (int)*p1 
             &lt;&lt; setw(4)  &lt;&lt; (char) *p1 &lt;&lt; endl;
             
        /** Sposta il puntatore al byte successivo. */
        p1++;
    }
    
    cout &lt;&lt; endl;
    
    /**
     * Crea un nuovo puntatore, stavolta con una
     * dimensione di sedici bit.
     */
    duebyte * p2 = (duebyte*)valori;
    
    /** 
     * Legge di nuovo i valori dell'array,
     */
    for(int i = 0; i &lt; sizeof(valori) / 2; i++) {
        cout &lt;&lt; setw(4)  &lt;&lt; i
             &lt;&lt; setw(18) &lt;&lt; bitset&lt;16&gt;(*p2) 
             &lt;&lt; setw(6)  &lt;&lt; (short)*p2 
             &lt;&lt; setw(4)  &lt;&lt; (char) *p2 &lt;&lt; endl;
         
        /** Sposta il puntatore di due byte. */
        p2++;
    }

    return 0;
}

</code></pre>

<p>Quello qui sotto è l’output del programma.
Voglio proprio vedere come farai a farlo entrare nel tuo libro.</p>

<pre><code> 0          01000011    67   C
 1          00100111    39   '
 2          01101000   104   h
 3          01100001    97   a
 4          01101110   110   n
 5          01101110   110   n
 6          01101111   111   o
 7          00100000    32    
 8          01100110   102   f
 9          01101111   111   o
10          01110010   114   r
11          01110011   115   s
12          01100101   101   e
13          00100000    32    
14          01110100   116   t
15          01110101   117   u
16          01110100   116   t
17          01110100   116   t
18          01100101   101   e
19          00100000    32    
20          01100101   101   e
21          00100000    32    
22          01100100   100   d
23          01110101   117   u
24          01100101   101   e
25          00100000    32    
26          01101100   108   l
27          01100001    97   a
28          00100000    32    
29          01110011   115   s
30          01110100   116   t
31          01100101   101   e
32          01110011   115   s
33          01110011   115   s
34          01100001    97   a
35          00100000    32    
36          01100101   101   e
37          01110100   116   t
38          11100000   224   ?
39          00100000    32    
40          00001010    10   
41          01001010    74   J
42          01100101   101   e
43          00100000    32    
44          01100110   102   f
45          01101001   105   i
46          01101111   111   o
47          01110010   114   r
48          01101001   105   i
49          01110011   115   s
50          01100011    99   c
51          01100101   101   e
52          00100000    32    
53          01100100   100   d
54          01100101   101   e
55          01101110   110   n
56          01110100   116   t
57          01110010   114   r
58          01101111   111   o
59          00100000    32    
60          01100001    97   a
61          01110010   114   r
62          00100000    32    
63          01100011    99   c
64          01101111   111   o
65          01110010   114   r
66          01100101   101   e
67          00100000    32    
68          00100111    39   '
69          01101110   110   n
70          00100000    32    
71          01101001   105   i
72          01101100   108   l
73          01101100   108   l
74          01110101   117   u
75          01110011   115   s
76          01101001   105   i
77          01101111   111   o
78          01101110   110   n
79          01100101   101   e

 0  0010011101000011 10051   C
 1  0110000101101000 24936   h
 2  0110111001101110 28270   n
 3  0010000001101111  8303   o
 4  0110111101100110 28518   f
 5  0111001101110010 29554   r
 6  0010000001100101  8293   e
 7  0111010101110100 30068   t
 8  0111010001110100 29812   t
 9  0010000001100101  8293   e
10  0010000001100101  8293   e
11  0111010101100100 30052   d
12  0010000001100101  8293   e
13  0110000101101100 24940   l
14  0111001100100000 29472    
15  0110010101110100 25972   t
16  0111001101110011 29555   s
17  0010000001100001  8289   a
18  0111010001100101 29797   e
19  0010000011100000  8416   ?
20  0100101000001010 18954   
21  0010000001100101  8293   e
22  0110100101100110 26982   f
23  0111001001101111 29295   o
24  0111001101101001 29545   i
25  0110010101100011 25955   c
26  0110010000100000 25632    
27  0110111001100101 28261   e
28  0111001001110100 29300   t
29  0010000001101111  8303   o
30  0111001001100001 29281   a
31  0110001100100000 25376    
32  0111001001101111 29295   o
33  0010000001100101  8293   e
34  0110111000100111 28199   '
35  0110100100100000 26912    
36  0110110001101100 27756   l
37  0111001101110101 29557   u
38  0110111101101001 28521   i
39  0110010101101110 25966   n
</code></pre>
<p>Come vedi, i bit sono gli stessi, ma cambiando il tipo di dato associato al puntatore e quindi la sua dimensione, il valore dei dati diventa un altro e la conversione dei numeri in lettere perde di significato.</p>

<p>Le istruzioni: <code>p1++</code> e <code>p2++</code> <em>incrementano</em> di un’unità il puntatore, ovvero lo spostano in avanti nella memoria del numero di byte corrispondenti alla dimensione del tipo di dato a cui è associato.
Il puntatore <code>p1</code> è un <code>unsigned char</code>, quindi si sposta di otto bit; il puntatore <code>p12</code> è uno <code>short int</code>, quindi si sposta di sedici bit.
È questo il motivo per cui il secondo ciclo di lettura dura la metà del primo: perché la quantità di bit letta per ogni iterazione è doppia. 
Se mi fossi distratto e avessi copiato il codice del primo ciclo di lettura così com’è, senza dividere per due il numero di cicli, il puntatore avrebbe continuato a “camminare” in avanti nella memoria, oltre i confini dell’array e questo, come vedremo in seguito, non è assolutamente bene.</p>


            </section>
            
        

        
        </main>

        <footer>
    <nav>
        
        
        <a href="/man/istruzioni-iterative" 
           title="Vai a: Istruzioni iterative" 
           class="left">
            <i class="fa fa-chevron-left fa-2x" aria-hidden="true"></i>
        </a>
        
        
        <a href="#top" 
           title="Torna all'inizio" >
           <i class="fa fa-angle-double-up fa-2x" aria-hidden="true"></i>
        </a>

        
        <a href="/man/algebra-booleana" 
           title="Vai a: Algebra booleana" 
           class="right" >
                <i class="fa fa-chevron-right  fa-2x" aria-hidden="true"></i>
        </a>
                

    </nav>

</footer>


    </div>

  </body>

</html>
